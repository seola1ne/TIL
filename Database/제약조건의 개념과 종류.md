# 3ì›” 4ì£¼ì°¨

## ðŸ“ƒ ì œì•½ì¡°ê±´(Constraints)ì˜ ê°œë…

> ì œì•½ì¡°ê±´ì´ëž€, SQL í…Œì´ë¸”ì— ë¬¸ì œë˜ëŠ”/ê²°í•¨ìžˆëŠ” ë°ì´í„°ê°€ ìž…ë ¥ë˜ì§€ ì•Šë„ë¡ ì»¬ëŸ¼ë³„ë¡œ ë¯¸ë¦¬ ì§€ì •í•´ ë‘” ì¡°ê±´ì´ë‹¤.
> 
- ì œì•½ì¡°ê±´ì€ í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ í•¨ê»˜ ì„¤ì •í•  ìˆ˜ ìžˆê³ , ì¶”í›„ì— `ALTER` ë“±ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°”ê¿€ ìˆ˜ë„ ìžˆë‹¤.

## âš¡ ì œì•½ì¡°ê±´ì˜ ì¢…ë¥˜

### NOT NULL

> NOT NULL ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•˜ë©´, í•´ë‹¹ í•„ë“œëŠ” ë¬´ì¡°ê±´ `NULL` ê°’ì„ ì €ìž¥í•  ìˆ˜ ì—†ë‹¤. ì¦‰, ì´ ì œì•½ ì¡°ê±´ì´ ì„¤ì •ëœ í•„ë“œëŠ” ë¬´ì¡°ê±´ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìžˆì–´ì•¼ í•œë‹¤.
> 

```sql
CREATE TABLE í…Œì´ë¸” ì´ë¦„
(
	í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž… NOT NULL,
	...
)
```

```sql
ALTER TABLE í…Œì´ë¸”ì´ë¦„
ADD í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž… NOT NULL
```

### UNIQUE

> UNIQUE ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•˜ë©´, í•´ë‹¹ í•„ë“œëŠ” ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤. ì¦‰, ì´ ì œì•½ ì¡°ê±´ì´ ì„¤ì •ëœ í•„ë“œëŠ” ì¤‘ë³µëœ ê°’ì„ ì €ìž¥í•  ìˆ˜ ì—†ë‹¤.
> 

```sql
1. CREATE TABLE í…Œì´ë¸” ì´ë¦„
(
	í•„ë“œëª… í•„ë“œíƒ€ìž… UNIQUE,
	...
)

2. CREATE TABLE í…Œì´ë¸” ì´ë¦„
(
	í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž…,
	...,
	[CONSTRAINT ì œì•½ì¡°ê±´ì´ë¦„] UNIQUE (í•„ë“œì´ë¦„)
)
```

```sql
1. ALTER TABLE í…Œì´ë¸” ì´ë¦„
	ADD í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž… UNIQUE

2. ALTER TABLE í…Œì´ë¸”ì´ë¦„
	ADD [CONSTRAINT ì œì•½ì¡°ê±´ì´ë¦„] UNIQUE (í•„ë“œì´ë¦„)
```

### PRIMARY KEY

> PRIMARY KEY ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•˜ë©´, í•´ë‹¹ í•„ë“œëŠ” NOT NULLê³¼ UNIQUE ì œì•½ ì¡°ê±´ì˜ íŠ¹ì§•ì„ ëª¨ë‘ ê°€ì§„ë‹¤. ì¦‰, NULL ê°’ê³¼ ì¤‘ë³µëœ ê°’ ëª¨ë‘ ë¶ˆê°€í•˜ë‹¤.
> 

ì´ëŸ¬í•œ PRIMARY KEY ì œì•½ ì¡°ê±´ì„ ê¸°ë³¸ í‚¤ë¼ê³  í•œë‹¤.

```sql
1. CREATE TABLE í…Œì´ë¸”ì´ë¦„
(
	í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž… PRIMARY KEY,
	...
)

2. CREATE TABLE í…Œì´ë¸”ì´ë¦„
(
	í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž…,
	...,
	[CONSTRAINT ì œì•½ì¡°ê±´ì´ë¦„] PRIMARY KEY(í•„ë“œì´ë¦„)
)
```

### FOREIGN KEY

> FOREIGN KEY ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•œ í•„ë“œëŠ” ì™¸ëž˜ í‚¤ë¼ê³  ë¶€ë¥´ë©°, í•œ í…Œì´ë¸”ì„ ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì—°ê²°í•´ ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.
> 

FOREIGN KEY ì œì•½ ì¡°ê±´ì€ í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ë‹¤ë¥¸ í…Œì´ë¸”ì— ì˜ì¡´í•˜ê²Œ ë§Œë“ ë‹¤.

- FOREIGN KEY ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•  ë•Œ ì°¸ì¡°ë˜ëŠ” í…Œì´ë¸”ì˜ í•„ë“œëŠ” ë°˜ë“œì‹œ UNIQUEë‚˜ PRIMARY KEY ì œì•½ ì¡°ê±´ì´ ì„¤ì •ë˜ì–´ ìžˆì–´ì•¼ í•œë‹¤.

```sql
CREATE TABLE í…Œì´ë¸”ì´ë¦„
(
	í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž…,
	...,
	[CONSTRAINT ì œì•½ì¡°ê±´ì´ë¦„]
	FOREIGN KEY (í•„ë“œì´ë¦„)
	REFERENCES í…Œì´ë¸”ì´ë¦„ (í•„ë“œì´ë¦„)
)
```

```sql
ALTER TABLE í…Œì´ë¸”ì´ë¦„
ADD [CONSTRAINT ì œì•½ì¡°ê±´ì´ë¦„]
FOREIGN KEY (í•„ë“œì´ë¦„)
REFERENCES í…Œì´ë¸”ì´ë¦„ (í•„ë“œì´ë¦„)
```

### DEFAULT

> DEFAULT ì œì•½ ì¡°ê±´ì€ í•´ë‹¹ í•„ë“œì˜ ê¸°ë³¸ê°’ì„ ì„¤ì •í•  ìˆ˜ ìžˆê²Œ í•´ ì¤€ë‹¤. 
ë§Œì•½ ë ˆì½”ë“œë¥¼ ìž…ë ¥í•  ë•Œ í•´ë‹¹ í•„ë“œ ê°’ì„ ì „ë‹¬í•˜ì§€ ì•Šìœ¼ë©´, ìžë™ìœ¼ë¡œ ì„¤ì •ëœ ê¸°ë³¸ê°’ì„ ì €ìž¥í•œë‹¤.
> 

```sql
CREATE TABLE í…Œì´ë¸”ì´ë¦„
(
	í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž… DEFAULT ê¸°ë³¸ê°’,
	...
)
```

```sql
ALTER TABLE í…Œì´ë¸”ì´ë¦„
ADD í•„ë“œì´ë¦„ í•„ë“œíƒ€ìž… DEFAULT ê¸°ë³¸ê°’
```

## ðŸŒŸ  ì œì•½ì¡°ê±´ ì¶”ê°€í•˜ê¸°

### ì˜ˆì‹œ(1)

```sql
create table NewBook (
	bookname varchar2(20) not null,
	publisher varchar2(20) unique,
	price number default 10000 check(price > 1000),
	primary key(bookname, publisher)
);
```

### ì˜ˆì‹œ(2)

```sql
create table NewCustomer (
	custid number,
	name varchar2(40),
	address varchar2(40),
	phone varchar2(30),
	primary key(custid)
);
```

```sql
create table NewOrders (
	orderid number,
	custid number not null,
	bookid number not null,
	saleprice number,
	orderdate date,
	primary key(orderid),
	foreign key(custid) references NewCustomer(custid) on delete cascade
);
```
# 🛠️ 정규화와 이상현상

<aside>
💡 정규화란, 논리적 설계의 결과물인 스키마에서, 이상현상을 줄이는 과정!

</aside>

## 1-1. 이상현상의 개념

### 삭제이상(deletion anomly)

> 투플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
> 

→ 연쇄삭제 문제 발생

### 삽입이상(insertion anomly)

> 투플 삽입 시 특정 속성에 해당하는 값이 없어 NULL 값을 입력해야 하는 현상
> 

→ NULL값 문제 발생

### 수정이상(update anomly)

> 투플 수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상
> 

→ 불일치(inconsistency) 문제 발생

중복된 데이터에서 하나만 수정 → 불일치 일어남

## 1-2. 이상현상의 예

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled.png)

---

## 2-1. 함수 종속성의 개념

- 어떤 속성 A의 값을 알면 다른 속성 B의 값이 유일하게 정해지는 의존 관계를 ‘속성
B는 속성 A에 종속한다(dependent)’ 혹은 ‘속성 A는 속성 B를 결정한다(determine)’
라고 함.
- ‘A → B’로 표기하며, A를 B의 결정자라고 함.

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%201.png)

학생 번호는 학생 이름을 결정함.

501을 보면 학생 이름 박지성을 알 수 있음! ⇒ 종속 관계

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%202.png)

★ 이상현상과 결정자 중요함! ★

---

## 3. 정규화

### 3-1. 정규화 과정

**1) 제1정규형**

릴레이션 R의 모든 속성 값이 원자값을 가지면 제 1정규형이라고 함.

값을 더이상 쪼갤 수 없는 상태가 될 때까지 쪼갬

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%203.png)

⇒ 1NF를 만족한다.

**2) 제2정규형**

릴레이션 R이 제 1정규형이고 기본키가 아닌 속성이 기본키에 완전 함수 종속일 때 제 2정규형이라고 함.

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%204.png)

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%205.png)

⇒ 2NF를 만족한다.

**3) 제3정규형**

릴레이션 R이 제 2정규형이고 기본키가 아닌 속성이 기본키에
비이행적non-transitive으로 종속할 때(직접 종속) 제 3정규형이라고 함.

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%206.png)

**4) BCNF**

릴레이션 R에서 함수 종속성 X → Y가 성립할 때 모든 결정자 X가 후보키이면 BCNF 정규형이라고 함.

기본키/후보키가 아닌 속성이 다른 속성을 결정하면 안 됨.

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%207.png)

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%204%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%207af638ae0e694e9ba1dc4fa0d42eef52/Untitled%208.png)
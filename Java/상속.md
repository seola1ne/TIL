
# 상속이란?
> 기존에 있는 클래스의 멤버 변수나 메소드를 물려받아 새로운 클래스를 만드는 것으로, 상속을 통해 객체지향 프로그램의 주요 특징인 코드의 재사용성을 구현할 수 있다.

상속 관계에 있는 클래스는 `is-a 관계`이다. 즉, `"서브(하위) 클래스는 수퍼(상위) 클래스이다"` 관계가 성립한다.

## 상속 방법
상속은 `extends` 키워드를 사용하고, 단일 상속만을 지원한다. 단일 상속이기 때문에 `extends` 뒤에 하나의 클래스명만 쓸 수 있다.

#### 형식
```java
[접근제어자] class 클래스 이름 extends 상위 클래스명
```

## 상속과 접근 제어자
접근 제어자는 외부의 객체가 객체 내부의 멤버에 접근할 수 있는지 없는지를 결정한다. 
특히 상속 관계에서 상위 클래스의 접근 제어자가 `protected`일 경우 하위 클래스에서 접근할 수 있지만 여전히 `private`일 경우 상속 관계에서도 접근이 불가능하다.

<hr>

# 상속과 생성자
>상속 과정에서 생성자는 상속되지 않고, 하위 클래스의 객체 생성 시 자동으로 **상위 클래스의 인자 없는 생성자가 호출된다**. 

즉, 상위 클래스를 상속받는 하위 클래스를 객체 생성할 때 자동으로 상위 클래스의 인자 없는 생성자를 호출하기 때문에 **상속하는 상위 클래스에 인자 없는 생성자가 없으면 에러가 발생한다. **

특별히 생성자가 없을 경우는 디폴트 생성자인 `생성자명(){}`을 실행한다.


## super 키워드와 super() 메소드
상속 관계에 있는 클랫에서 상위 클래스의 멤버 변수나 생성자를 호출하기 위해 `super` 키워드와 `super()` 메소드를 사용한다.

### super 키워드
상위 클래스를 참조할 수 있는 가상의 참조변수로 상위 클래스의 멤버 변수나 메소드를 하위 클래스에서 명시적으로 호출할 때 사용한다.

 #### 형식
```java
super.상위 클래스의 멤버 변수
super.상위 클래스의 메소드 이름
```


### super() 메소드
상위 클래스의 생성자를 명시적으로 호출할 때 사용하는 것으로 하위 클래스의 생성자에서 제일 먼저 호출해야 한다.

#### 형식
```java
super()
super( 인자, ...)
```

<hr>

# 상속과 메소드 오버라이딩
## 메소드 오버라이딩 개념
>상위 클래스에 있는 메소드와 똑같은 메소드를 하위 클래스에서 **다시 정의하여 사용**하는 것으로 상위 클래스와 같은 이름으로 하위 클래스에서 메소드의 기능을 바꾸는 것을 말한다.

이때 메소드 오버라이딩 된 경우에는 특별한 지시가 없는 한 하위 클래스의 메소드가 호출된다.

### 메소드 오버라이딩의 조건
>- 상위 클래스 메소드의 이름, 인자, 반환형에 대해서 완전히 같아야 한다.
- `static`, `final`, `private` 메소드의 경우에는 오버라이딩 할 수 없다.

<hr>

# 형변환
## 참조 데이터 형변환
참조 데이터형은 배열, 클래스 등을 말하는 것으로 다른 참조 데이터 할당이나 다른 클래스로 객체를 생성하고자 할 때 참조 데이터 형 변환이 일어난다.

참조 데이터 형변환에는 묵시적 형변환(UpCasting)과 명시적 형변환(DownCasting)이 있다.

### 참조 데이터 형변환의 조건
>- 상속 관계에 있는 클래스 간에만 형변환이 가능하다.
- 서로 다른 종류의 클래스 간에는 형변환이 일어나지 않는다.
- 상위 클래스 참조 데이터 변수는 하위 클래스 객체를 참조할 수 있지만, 그 반대는 안 된다.

### 묵시적 형변환(업 캐스팅)
업 캐스팅(UpCasting)은 특정 객체가 하위 클래스의 형에서 상위 클래스의 형으로 형변환되는 것으로 형만 정확하다면 묵시적으로 형변환 된다.

>- 캐스팅 연산자 괄호를 생략할 수 있다.
- 부모 클래스로 캐스팅 된다는 것은, 멤버 갯수의 감소를 의미한다.
즉, 자식 클래스에서만 있는 속성과 메소드는 실행하지 못한다.
- 업 캐스팅을 하고 메소드를 실행할 때, 만일 자식 클래스에서 오버라이딩한 메소드가 있을 경우, 부모 클래스의 메소드가 아닌 오버라이딩 된 메소드가 실행되게 된다.

#### 형식
```java
수퍼 클래스 객체 = 서브 클래스 객체
```
#### 사용 예
```java
public class Animal{}
public class Dog extends Animal{}
......
Animal ani = new Dog();
```
업 캐스팅을 하는 데 있어 조심할 점은 크게 두 가지로 요약할 수 있다.
> 1. 업 캐스팅 하면 멤버 갯수가 제한되어 자식 클래스에만 있는 멤버는 사용할 수 없게 된다.
2. 업 캐스팅 했지만 오버라이딩 된 메소드는 자식 클래스의 메소드로 실행이 된다.

### 명시적 형변환(다운 캐스팅)
다운 캐스팅(DownCasting)은 업 캐스팅한 것을 다시 원래의 형으로 복구시켜 주는 것으로 업 캐스팅된 것만 다운 캐스팅시킬 수 있다. 다운 캐스팅은 강제 캐스팅을 원칙으로 한다.

> - 부모 클래스가 자식 클래스 타입으로 캐스팅 되는 것이다.
- 다운 캐스팅은 캐스팅 연산자 괄호를 생략할 수 없다.
다운 캐스팅의 목적은 업 캐스팅 한 객체를 다시 자식 클래스의 타입의 객체로 되돌리는 데 목적을 둔다.
- 원래부터 부모 클래스 객체였던 것을 자식 객체로 강제 형변환하는 것은 불가능하다.

#### 형식
```java
서브 클래스 객체 = (클래스명)수퍼 클래스 객체
```

#### 사용 예
```java
class DownTop extends Object {
	......
}
Object obj = new DownTop; // 업 캐스팅
DownTop dt = (DownTop)obj; // 다운 캐스팅
```
위와 같이 객체를 생성할 경우 업 캐스팅된 `obj`를 다운 캐스팅하여 `dt` 객체를 만들 수 있다.

### 형변환 불가
같은 클래스를 상속받고 있더라도, 형제 클래스끼리는 아예 다른 타입이므로 형변환이 불가하다.



>정리하면, 자식 클래스 → 부모 클래스는 더 상위 클래스로 형변환한 것이니 **업 캐스팅**, 부모 클래스 → 자식 클래스는 하위 클래스로 형변환한 것이므로 **다운 캐스팅**이라 볼 수 있다. 또한, 형제 클래스끼리는 참조 형변환이 불가하다.

### instance of 연산자
다운 캐스팅을 다룰 때에는 다운 캐스팅 할 객체가 원래부터 부모 객체인지, 업 캐스팅된 부모 객체인지 생각해 볼 필요성이 있다.

이렇게 혼동되는 객체를 구별하기 위해 도움을 주는 `instance of` 연산자를 자바에서 지원해 준다.

`instance of` 연산자는 어느 객체 변수가 어느 클래스 타입인지를 판별해 true/false를 반환해 준다. 사용 시 주의할 점은 이 연산자는 객체에 대한 클래스(참조형) 타입에만 사용할 수 있다는 점이다.

즉, int, double 같은 기본형 타입에는 사용이 불가능하다.


### 가상 메소드
>상위 클래스의 이름으로 하위 클래스의 메소드를 호출할 수 있도록 하는 기법으로, 업 캐스팅했을 때 상위 클래스의 이름으로 하위 클래스의 메소드를 호출하도록 한다. 

원래 상속 관계에 있을 때 **상위 클래스의 객체 변수**는 하위 클래스의 메소드에 접근할 수 없으나 업 캐스팅 했을 경우 하위 클래스 메소드를 접근할 수 있도록 하는 것을 말한다.

 